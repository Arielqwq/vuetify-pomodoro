import{W as L,E as S,r as k,G as n,H as x,J as d,K as T,i as l,L as _,X as C,Y as N,Z as i,M as g,N as e,Q as o,O as s,P as I,F as w,_ as U,T as b}from"./index.0bd7b800.js";const D=e("h1",{class:"text-center"},"\u5F85\u8FA6\u4E8B\u9805",-1),R=e("thead",null,[e("tr",null,[e("th",null,"\u540D\u7A31"),e("th",null,"\u64CD\u4F5C")])],-1),G={key:0},H=e("td",{class:"text-center",colspan:"2"},"\u6C92\u6709\u4E8B\u9805",-1),J=[H],M={key:1},O={key:0},P={key:1},Q=e("h1",{class:"text-center"},"\u5DF2\u5B8C\u6210\u4E8B\u9805",-1),W=e("thead",null,[e("tr",null,[e("th",null,"\u540D\u7A31"),e("th",null,"\u64CD\u4F5C")])],-1),X={key:0},Y=e("td",{class:"text-center",colspan:"2"},"\u6C92\u6709\u4E8B\u9805",-1),Z=[Y],A={__name:"ListView",setup(j){const f=L(),{addItem:$,editItem:B,delItem:q,confirmEditItem:E,undoEditItem:F,delFinishedItem:K}=f,{items:p,finishedItems:m}=S(f),h=k(""),u=k(null),y=k([]),c={required(a){return!!a||"\u6B04\u4F4D\u5FC5\u586B"},length(a){return a.length>=3||"\u5FC5\u9808\u4E09\u500B\u5B57\u4EE5\u4E0A"}},v=async()=>{const a=await u.value.validate();console.log(a),!(a.length>0)&&($(h.value),u.value.$el.querySelector("input").blur(),u.value.reset())};return(a,V)=>(n(),x(T,{id:"list"},{default:d(()=>[l(_,{cols:"12"},{default:d(()=>[D]),_:1}),l(_,{cols:"12"},{default:d(()=>[l(C,{ref_key:"input",ref:u,modelValue:h.value,"onUpdate:modelValue":V[0]||(V[0]=t=>h.value=t),label:"\u65B0\u589E\u4E8B\u9805",rules:[c.required,c.length],onKeydown:N(v,["enter"])},{append:d(()=>[l(i,{icon:"mdi-plus",variant:"text",onClick:v})]),_:1},8,["modelValue","rules","onKeydown"]),l(g,null,{default:d(()=>[R,e("tbody",null,[o(p).length===0?(n(),s("tr",G,J)):(n(!0),s(w,{key:1},I(o(p),t=>(n(),s("tr",{key:t.id,ref_for:!0,ref_key:"editInputs",ref:y},[e("td",null,[t.edit?(n(),x(C,{key:0,modelValue:t.model,"onUpdate:modelValue":r=>t.model=r,autofocus:"",rules:[c.required,c.length]},null,8,["modelValue","onUpdate:modelValue","rules"])):(n(),s("span",M,b(t.name),1))]),e("td",null,[t.edit?(n(),s("span",O,[l(i,{icon:"mdi-check",variant:"text",color:"green",onClick:r=>o(E)(t.id)},null,8,["onClick"]),l(i,{icon:"mdi-undo",variant:"text",color:"red",onClick:r=>o(F)(t.id)},null,8,["onClick"])])):(n(),s("span",P,[l(i,{icon:"mdi-pencil",variant:"text",color:"green",onClick:r=>o(B)(t.id)},null,8,["onClick"]),l(i,{icon:"mdi-delete",variant:"text",color:"red",onClick:r=>o(q)(t.id)},null,8,["onClick"])]))])]))),128))])]),_:1})]),_:1}),l(U),l(_,{cols:"12"},{default:d(()=>[Q]),_:1}),l(_,{cols:"12"},{default:d(()=>[l(g,null,{default:d(()=>[W,e("tbody",null,[o(m).length===0?(n(),s("tr",X,Z)):(n(!0),s(w,{key:1},I(o(m),t=>(n(),s("tr",{key:t.id,ref_for:!0,ref_key:"editInputs",ref:y},[e("td",null,b(t.name),1),e("td",null,[l(i,{icon:"mdi-delete",variant:"text",color:"red",onClick:r=>o(K)(t.id)},null,8,["onClick"])])]))),128))])]),_:1})]),_:1})]),_:1}))}};export{A as default};
